
\begin{tad}{\tadNombre{PokemonGo}}
\tadGeneros{pgo}

\tadIgualdadObservacionalSimple{$(true \igobs true) \land (false \igobs false) \land \neg(true \igobs false) \land \neg(false \igobs true)$}
%\tadAlinearFunciones{pertenecePokemon}{kg, pokemon/p}{conj(jugador)}

\tadObservadores
\tadOperacion{mapa}{pgo}{mapa}{}
\tadOperacion{jugadores}{pgo}{conj(jugador)}{}
\tadOperacion{pokemones}{pgo}{}{}

\tadGeneradores

\tadOperacion{crearPGO}{mapa}{pgo}{}
\tadOperacion{agregarPokemon}{pgo, pokemon/p}{pgo}{$\neg$ pertenecePokemon(p)}
\tadOperacion{agregarJugador}{pgo, jugador/j}{pgo}{$\neg$ perteneceJugador(j)}

\tadOtrasOperaciones
\tadOperacion{pertenecePokemon}{pokemon}{bool}{}
\tadOperacion{perteneceJugador}{jugador}{bool}{}



\tadOperacion{sancionarJug}{pgo,jugador}{pgo}{}  %quiza no necesario, reemplazado por aplicarsancion%
\tadOperacion{moverJugador}{pgo,jugador,coordenada}{pgo}{}
\tadOperacion{conectarJug}{pgo, jugador}{pgo}{}
\tadOperacion{desconectarJug}{pgo, jugador}{pgo}{} $\newline $

\tadOperacion{jugadoresEnRango}{pgo, pknodo}{conj(jugador)}{}
\tadOperacion{pknodosCapturables}{pgo}{conj(pknodo)}{}
\tadOperacion{elegirCapturador}{pgo}{pknodo}{}
\tadOperacion{aplicarSancion}{pgo,jugador/j}{pgo}{} $\newline $

\tadOperacion{actualizarPknodos}{pgo,jugador/j}{pgo}{}
\tadOperacion{realizaCapturas}{pgo}{pgo}{}
\tadOperacion{capturarPorNodo}{pgo,conj(pknodo)}{pgo}{}
\tadOperacion{eliminaPokenodos}{pgo}{pgo}{}



\tadAxiomas[\paratodo{pkg}{pg}]

%\tadAlinearAxiomas{}

%mover(j) es el generador de jugador
$ $\newline
\tadAxioma{moverJugador($pgo$, $j$, $npos$)}
{\IF movimientoValido(mapa($pgo$), posicion($j$), $npos$)  THEN 
manejarCapturas($pgo$, $j$, mover($j$, $npos$))
ELSE 
aplicarSancion($pgo$, $j$) 
FI
}

% AplicarSancion (pgo, jug)
$ $\newline
\tadAxioma{aplicarSancion(crearPGO($mapa$),$j$)}{crearPGO($mapa$)}
\tadAxioma{aplicarSancion(agPknodo($pgo$, $pkNodo$),$j$)}{agPknodo(aplicarSancion($pgo$, $j$), $pkNodo$)}
\tadAxioma{aplicarSancion(agJugador($pgo$, $j$),$j'$)}{
\IF $j = j'$
THEN
agJugador($pgo$, sancionar($j$)) 
ELSE 
agJugador(aplicarSancion($pgo$, $j'$), $j$)
FI
}
$ $\newline

% ActualizarPokenodos (pgo, jug)  = actualizarPknodos
$ $\newline
\tadAxioma{actualizarPknodos(crearPGO($mapa$), $nJ$)}{crearPGO($mapa$)}  %ver espaciado raro por aca
\tadAxioma{actualizarPknodos(agJugador($pgo$, $j$), $nJ$)}{agJugador(actualizarPknodos($pgo$,$nJ$), $j$)}
\tadAxioma{actualizarPknodos(agPknodo($pgo$, $pknodo$), $nJ$)}{
\IF enRango2($pknodo$, $nJ$)
THEN
agPknodo(actualizarPknodos($pgo$,$nJ$), reiniciar($pknodo$))
ELSE 
agPknodo(actualizarPknodos($pgo$,$nJ$), sumarUno($pknodo$))
FI
}


% PknodosCapturables (pgo)
$ $\newline
\tadAxioma{pknodosCapturables(crearPGO($mapa$))}{$\emptyset$}
\tadAxioma{pknodosCapturables(agJugador($pgo$, $j$))}{pknodosCapturables($pgo$)}
\tadAxioma{pknodosCapturables(agPknodo($pgo$, $pknodo$))}{
\IF contador($pknodo$) = 10
THEN
Ag($pknodo$, pknodosCapturables($pgo$))
ELSE 
pknodosCapturables($pgo$)
FI
}

\tadAxioma{}{}
\tadAxioma{}{}

\end{tad}